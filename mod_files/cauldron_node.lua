local modPath = minetest.get_modpath(minetest.get_current_modname()) .."/mod_files"

local CauldronController = dofile(modPath .. "/controller/cauldron.lua")

minetest.register_node("beer_test:cauldron",{
    description = "Empty Barrel",
    drawtype = "nodebox",
    --TODO: replace xdecor tiles or add copyright
    tiles = {"beer_test_barrel_top.png", "beer_test_barrel_top.png", "xdecor_cauldron_sides.png",
             "xdecor_cauldron_sides.png", "xdecor_cauldron_sides.png", "xdecor_cauldron_sides.png"},
    paramtype = "light",
    paramtype2 = "facedir",
    groups = {cracky=2},
    sounds = default.node_sound_wood_defaults(),
    can_dig = CauldronController.canDig,
    on_timer = CauldronController.onTimer,
    on_construct = CauldronController.onConstruct,
    on_rightclick = CauldronController.onRightClick,
    node_box = {
        type = "fixed",
        fixed = {
            {-0.5000, -0.06250, -0.5000, -0.4375, 0.5000, 0.5000},
            {-0.5000, -0.06250, -0.5000, 0.5000, 0.5000, -0.4375},
            {0.4375, -0.06250, -0.5000, 0.5000, 0.5000, 0.5000},
            {-0.5000, -0.06250, 0.4375, 0.5000, 0.5000, 0.5000},
            {-0.4375, -0.1875, -0.4375, 0.4375, -0.06250, -0.3750},
            {0.3750, -0.1875, -0.4375, 0.4375, -0.06250, 0.4375},
            {-0.4375, -0.1875, -0.4375, -0.3750, -0.06250, 0.4375},
            {-0.4375, -0.1875, 0.3750, 0.4375, -0.06250, 0.4375},
            {-0.3750, -0.2500, -0.3750, 0.3750, -0.1875, -0.3125},
            {-0.3750, -0.2500, 0.3125, 0.3750, -0.1875, 0.3750},
            {-0.3750, -0.2500, -0.3750, -0.3125, -0.1875, 0.3750},
            {0.3125, -0.2500, -0.3750, 0.3750, -0.1875, 0.3750},
            {-0.3125, -0.3125, -0.3125, 0.3125, -0.2500, 0.3125},
            {-0.5000, -0.5000, -0.5000, -0.3750, -0.4375, -0.3750},
            {-0.4375, -0.4375, -0.4375, -0.3125, -0.1875, -0.3125},
            {0.3750, -0.5000, -0.5000, 0.5000, -0.4375, -0.3750},
            {0.3125, -0.4375, -0.4375, 0.4375, -0.1875, -0.3125},
            {-0.5000, -0.5000, 0.3750, -0.3750, -0.4375, 0.5000},
            {-0.4375, -0.4375, 0.3125, -0.3125, -0.1875, 0.4375},
            {0.3750, -0.5000, 0.3750, 0.5000, -0.4375, 0.5000},
            {0.3125, -0.4375, 0.3125, 0.4375, -0.1875, 0.4375}
        }
    },
    selection_box = {
        type = "fixed",
        fixed = {
            {-0.5000, -0.06250, -0.5000, -0.4375, 0.5000, 0.5000},
            {-0.5000, -0.06250, -0.5000, 0.5000, 0.5000, -0.4375},
            {0.4375, -0.06250, -0.5000, 0.5000, 0.5000, 0.5000},
            {-0.5000, -0.06250, 0.4375, 0.5000, 0.5000, 0.5000},
            {-0.4375, -0.1875, -0.4375, 0.4375, -0.06250, -0.3750},
            {0.3750, -0.1875, -0.4375, 0.4375, -0.06250, 0.4375},
            {-0.4375, -0.1875, -0.4375, -0.3750, -0.06250, 0.4375},
            {-0.4375, -0.1875, 0.3750, 0.4375, -0.06250, 0.4375},
            {-0.3750, -0.2500, -0.3750, 0.3750, -0.1875, -0.3125},
            {-0.3750, -0.2500, 0.3125, 0.3750, -0.1875, 0.3750},
            {-0.3750, -0.2500, -0.3750, -0.3125, -0.1875, 0.3750},
            {0.3125, -0.2500, -0.3750, 0.3750, -0.1875, 0.3750},
            {-0.3125, -0.3125, -0.3125, 0.3125, -0.2500, 0.3125},
            {-0.5000, -0.5000, -0.5000, -0.3750, -0.4375, -0.3750},
            {-0.4375, -0.4375, -0.4375, -0.3125, -0.1875, -0.3125},
            {0.3750, -0.5000, -0.5000, 0.5000, -0.4375, -0.3750},
            {0.3125, -0.4375, -0.4375, 0.4375, -0.1875, -0.3125},
            {-0.5000, -0.5000, 0.3750, -0.3750, -0.4375, 0.5000},
            {-0.4375, -0.4375, 0.3125, -0.3125, -0.1875, 0.4375},
            {0.3750, -0.5000, 0.3750, 0.5000, -0.4375, 0.5000},
            {0.3125, -0.4375, 0.3125, 0.4375, -0.1875, 0.4375}
        }
    },
})